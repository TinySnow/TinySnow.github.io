# 第八章：控制器

## 复习

- 第三章：利用电能和布尔代数，造出了一个加法器。
- 第四章：引入有符号数，介绍原码、反码和补码，使计算机可以表示负数和运算减法。
- 第五章：介绍乘法与除法，并尝试从原理上优化效率过慢的问题。
- 第六章：组成算术逻辑单元，负责计算，模块化。
- 第七章：组成简单存储器，负责存储中间值，模块化。

## 正文

### 尝试自动化

　　组成了这么多元器件，下一步，可以真正尝试让计算自动化了。

　　首先需要一个加法器。但是加法器只能做一次加法，如果想要做多次加法，就需要人工不断地输入数据。这显然不是我们想要的。

　　我们需要一个东西，能够自动地、按照预定的步骤，完成一系列的操作。这个东西，就是控制器。

### 控制器的组成

　　控制器主要由以下几个部分组成：

1. 时钟发生器
   - 用于产生时钟信号，控制各个部件的工作节奏
   - 就像一个指挥家，指挥整个乐团按照统一的节奏演奏
2. 指令寄存器
   - 用于存储当前正在执行的指令
   - 相当于乐谱中当前正在演奏的那一小节
3. 指令译码器
   - 用于解释指令的含义，并产生相应的控制信号
   - 就像指挥家理解乐谱，并用手势指挥乐团演奏
4. 控制单元
   - 根据指令译码器的输出，发出具体的控制信号
   - 相当于指挥家的具体动作，指挥各个乐器何时演奏

### 控制器的工作过程

　　控制器的工作过程可以简单概括为：

1. 从存储器中取出指令
2. 将指令放入指令寄存器
3. 指令译码器解释指令
4. 控制单元发出控制信号
5. 各个部件按照控制信号执行操作
6. 重复以上步骤

　　这个过程是自动进行的，不需要人工干预。这就是计算机能够自动运行的基础。

### 控制信号

　　控制信号是控制器的核心。它们就像是指挥家的手势，告诉各个部件该做什么。主要包括：

- 读信号：从存储器读取数据
- 写信号：向存储器写入数据
- 运算信号：告诉ALU执行什么运算
- 传送信号：控制数据在各个部件之间的传输

### 时序控制

　　所有的操作都需要按照时钟信号来进行。这就像是音乐需要按照节拍来演奏一样。

　　时钟信号将时间划分为一个个周期，每个周期内完成一个基本操作。这样可以保证：

1. 各个部件协调工作
2. 数据传输不会发生冲突
3. 运算结果有足够的时间稳定下来

## 小结

### 知识点

1. 控制器的作用是自动控制计算机的工作过程
2. 控制器由时钟发生器、指令寄存器、指令译码器和控制单元组成
3. 控制信号是控制器控制其他部件的手段
4. 时钟信号保证了各个部件的协调工作

### 思考题

1. 为什么计算机需要时钟信号？
2. 控制器和人类大脑的工作过程有什么相似之处？
3. 如果没有控制器，计算机还能工作吗？

### 思考题答案（仅供参考）

1. 时钟信号的作用：
   - 同步各个部件的工作
   - 保证数据传输的可靠性
   - 为各种操作提供时间参考

2. 控制器和人类大脑的相似之处：
   - 都能接收指令（大脑接收感知信息）
   - 都能解释指令（大脑理解信息）
   - 都能发出控制信号（大脑发出神经信号）
   - 都能协调各个部分工作（大脑协调身体各个部位）

3. 没有控制器的影响：
   - 各个部件无法协调工作
   - 无法自动执行指令序列
   - 需要人工干预每一步操作
   - 实际上就不能称为计算机，而只是一堆独立的电子元件

## 协议

本作品采用[知识共享署名-非商业性使用-相同方式共享 4.0 国际许可协议](https://creativecommons.org/licenses/by-nc-sa/4.0/deed.zh)进行许可.